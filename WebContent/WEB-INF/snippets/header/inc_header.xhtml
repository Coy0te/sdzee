<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets" 
				xmlns:f="http://java.sun.com/jsf/core" xmlns:o="http://omnifaces.org/ui" xmlns:uf="http://sdzee.com/functions/functions">
	<div id="mainHeader">
		<div id="headerTop">
			<div id="mainMenu" class="largeurLimite">
				<div id="menuUp">
					<div class="UpMob">
						<h:link id="logo" outcome="/accueil" />
					</div>
					<span class="sep"></span>
					
						<h:link styleClass="login" outcome="/connexion" rendered="#{membre == null}">
							<f:param name="urlOrigine" value="#{request.requestURI}" />
							<f:param name="queryStringOrigine" value="#{request.queryString}" />
							<div class="zozorLogin"></div>
							<div id="login">Rejoignez-nous</div>
						</h:link>
					<h:panelGroup rendered="#{membre != null}">
						<div id="memberInfos">
							<div class="userInfos">
								<span class="separatorBig"></span>
								<div class="headerUser">
									<h:link id="profileHeader" outcome="/membres" styleClass="dropdown-toggle secondaryLink">
										<f:param name="idMembre" value="#{membre.id}"/>
										<div class="ProfileLink"></div>
										<h:graphicImage styleClass="memberAvatar" library="default" name="images/membres/avatar_defaut.png" alt="avatar" />
									</h:link>
								</div>
							</div>
	
							<h:outputText value="#{membre.pseudo}"/>
							<o:form includeViewParams="true">
								<h:commandLink value="Déconnexion" action="#{connecterBean.deconnecter}" />
							</o:form>
							
							<div style="visibility: hidden;">
								<ul id="notificationsList">
									<ui:repeat value="#{notificationsBean.notifications}" var="item">
									<li>
										<h:link outcome="/sujet">
											<f:param name="sujetId" value="#{item.idSujet}" />
											<f:param name="reponseId" value="#{item.reponse.id}" />
											#{item.reponse.auteur.pseudo} a répondu au sujet "#{item.reponse.sujet.titre}" #{uf:convertDateTime(item.reponse.dateCreation)}
										</h:link>
									</li>
									</ui:repeat>
								</ul>
							</div>
							<ui:include src="inc_menu.xhtml" />
						</div>
					</h:panelGroup>
				</div>
				<div id="menuDown">
					<div class="contentDown">
						<ul class="menu">
							<li class="sep"></li>
							<li><h:link value="Tutoriels" outcome="/tutoriels" /></li>
							<li class="sep"></li>
							<li><h:link value="Forums" outcome="/categories" /></li>
							<li class="sep"></li>
							<li><h:link value="Librairie" outcome="/boutique" /></li>
							<li class="sep"></li>
							<li><h:link value="Études" outcome="/etudes" /></li>
							<li class="sep"></li>
							<li><h:link value="Admin" outcome="/admin/admin" rendered="#{membre != null and membre.droits == 4}" /></li>
							<li class="sep"></li>
						</ul>
						<div id="navmenuRight">
							<h:form styleClass="searchForm">
								<h:inputText placeholder="Recherche" name="q"/>
								<h:commandButton action="recherche"/>
							</h:form>
						</div>
					</div>
				</div>
			</div>
			<div class="headGradient">
				<div></div>
				<div></div>
			</div>
		</div>
		<div id="headerMiddle">
			<div class="largeurLimite">
				<h:link><div class="titlePicture #{logoPage}"></div></h:link>
				<h1>
					<h:link>#{titrePage}</h:link>
				</h1>
				<p>#{descriptionPage}</p>
			</div>
		</div>
		<div class="headGradient">
			<div></div>
			<div></div>
		</div>
		<div id="headerBreadcrumb">
			<div class="largeurLimite">
				<ul id="breadcrumbtrail">
					<ui:repeat value="#{breadCrumb}" var="item" varStatus="statut">
					<li class="#{statut.index==0?'home':''}">
						<h:outputLink value="#{item.url}" rendered="#{item.url != null}">#{item.titre}</h:outputLink>
						<h:outputText value="#{item.titre}" rendered="#{item.url == null}"/>
					</li>
					</ui:repeat>
				</ul>
			</div>
		</div>
	</div>
</ui:composition>
