<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"> 
    <h:head>
        <meta charset="utf-8" />
        <title>#{i18n.categoriesForums}</title>
        <h:outputStylesheet library="default" name="css/form.css"  />
    </h:head>
    <h:body>
		<ui:composition>  
		<ui:repeat value="#{forums}" var="forum">
		<div class="forumCategory">
	        <h:link outcome="/forum">
	        	<f:param name="forumId" value="#{forum.id}" />
	        	<h:graphicImage library="default" name="images/forums/#{forum.id}.png" alt="#{forum.title}" />
	        </h:link>
	        <h:link outcome="/forum">
	        	<f:param name="forumId" value="#{forum.id}" />
	            <span class="forumCategoryTitle" title="#{forum.description}">#{forum.title}</span>
	            <span class="forumDesc">#{forum.description}</span>
	    	</h:link>
	        <h:link outcome="#{empty forum.lastPost ? '/forums' : '/topic' }">
	        	<f:param name="topicId" value="#{forum.lastPost.topic.id}" />
	        	<f:param name="postId" value="#{forum.lastPost.id}" />
		        <span class="forumLastMessage">#{i18n.categoriesForumsDernierMessage}</span>
		        <span class="forumDesc">#{forum.lastPost.topic.title}</span>
		    </h:link>
		</div>
		</ui:repeat>
		</ui:composition>
    </h:body>
</html>